{"ast":null,"code":"var _jsxFileName = \"/home/deoxys/programming_projects/the_gst/gst_frontend/src/components/gst_list.tsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport '../styles/gst_list.css';\nimport { Table, Button } from 'reactstrap';\n/* ************************* GSTListRow FC ************************* */\n\nexport const GSTListRow = ({\n  counter,\n  cb_add,\n  cb_sub,\n  cb_del\n}) => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 13\n  }\n}, counter.username), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 17\n  }\n}, counter.count, ' ', /*#__PURE__*/React.createElement(Button, {\n  color: \"primary\",\n  onClick: () => cb_add(counter._id),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 21\n  }\n}, \"+\"), ' ', /*#__PURE__*/React.createElement(Button, {\n  color: \"danger\",\n  onClick: () => cb_sub(counter._id),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 21\n  }\n}, \"-\"))), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 17\n  }\n}, /*#__PURE__*/React.createElement(Button, {\n  color: \"link\",\n  onClick: () => cb_del(counter._id),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 21\n  }\n}, \"delete\"), \"|\", /*#__PURE__*/React.createElement(Button, {\n  color: \"link\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 21\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/edit/\" + counter._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 25\n  }\n}, \"edit\")))));\n/* **************************** GSTList **************************** */\n\nexport default class GSTList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      counters: []\n    };\n\n    this.componentDidMount = () => {\n      console.log(\"before show list\");\n      axios.get('http://localhost:5000/counters/').then(response => {\n        this.setState({\n          counters: response.data\n        });\n        console.log(\"show list\");\n      }).catch(err => {\n        if (err.message === 'Network Error') {\n          alert('Server probably isn\\'t on \\n' + err);\n        } else {\n          alert(err);\n        }\n\n        console.log(err);\n      });\n    };\n\n    this.deleteCounter = id => {\n      axios.delete('http://localhost:5000/counters/' + id).then(res => {\n        console.log(res.data);\n        this.setState({\n          counters: this.state.counters.filter(el => el._id !== id)\n        });\n      });\n    };\n\n    this.addCount = id => {\n      axios.post('http://localhost:5000/counters/add/' + id).then(res => {\n        console.log(res.data); // update our state\n\n        this.componentDidMount();\n      });\n    };\n\n    this.subCount = id => {\n      axios.post('http://localhost:5000/counters/subtract/' + id).then(res => {\n        console.log(res.data);\n        console.log(\"test\"); // update our state\n\n        this.componentDidMount();\n      });\n    };\n\n    this.counterList = () => {\n      return this.state.counters.map(counter_ => {\n        return /*#__PURE__*/React.createElement(GSTListRow, {\n          counter: counter_,\n          cb_add: this.addCount,\n          cb_sub: this.subCount,\n          cb_del: this.deleteCounter,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }\n        });\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, \"Current Offenders\"), /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 29\n      }\n    }, \"Count\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 29\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, this.counterList())));\n  }\n\n}","map":{"version":3,"sources":["/home/deoxys/programming_projects/the_gst/gst_frontend/src/components/gst_list.tsx"],"names":["React","Component","axios","Link","Table","Button","GSTListRow","counter","cb_add","cb_sub","cb_del","username","count","_id","GSTList","state","counters","componentDidMount","console","log","get","then","response","setState","data","catch","err","message","alert","deleteCounter","id","delete","res","filter","el","addCount","post","subCount","counterList","map","counter_","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport '../styles/gst_list.css'\n\nimport {\n    Table,\n    Button\n} from 'reactstrap';\n\n/* ************************* GSTListRow FC ************************* */\ninterface GST_LR_Props {\n    counter: any,\n    cb_add: Function,\n    cb_sub: Function,\n    cb_del: Function\n}\n\nexport const GSTListRow: React.FC<GST_LR_Props> = ({\n    counter,\n    cb_add,\n    cb_sub,\n    cb_del\n}) => (\n        <tr>\n            <td>{counter.username}</td>\n            <td>\n                <span>\n                    {counter.count}\n                    {' '}\n                    <Button\n                        color=\"primary\"\n                        onClick={() => cb_add(counter._id)}\n                    >\n                        +\n                    </Button>\n                    {' '}\n                    <Button\n                        color=\"danger\"\n                        onClick={() => cb_sub(counter._id)}\n                    >\n                        -\n                </Button>\n                </span>\n            </td>\n            <td>\n                <span>\n                    <Button\n                        color=\"link\"\n                        onClick={() => cb_del(counter._id)}\n                    >\n                        delete\n                    </Button>|\n                    <Button color=\"link\">\n                        <Link to={\"/edit/\" + counter._id}>\n                            edit\n                        </Link>\n                    </Button>\n                </span>\n            </td>\n        </tr>\n    );\n\n/* **************************** GSTList **************************** */\ninterface Props { /*none*/ }\ninterface State {\n    counters: Array<any>\n}\n\nexport default class GSTList extends Component<Props, State> {\n    state = {\n        counters: []\n    }\n\n    componentDidMount = () => {\n        \n        console.log(\"before show list\")\n        axios.get('http://localhost:5000/counters/')\n            .then(response => {\n                this.setState({\n                    counters: response.data\n                });\n                console.log(\"show list\");\n            })\n            .catch(err => {\n                if (err.message === 'Network Error'){\n                    alert('Server probably isn\\'t on \\n' + err)\n                } else {\n                    alert(err);\n                }\n                console.log(err);\n            });\n    }\n\n    deleteCounter = (id: String) => {\n        axios.delete('http://localhost:5000/counters/' + id)\n            .then(res => {\n                console.log(res.data);\n                this.setState({\n                    counters: this.state.counters.filter((el: any) => el._id !== id)\n                })\n            });\n    }\n\n    addCount = (id: String) => {\n        axios.post('http://localhost:5000/counters/add/' + id)\n            .then(res => {\n                console.log(res.data);\n                // update our state\n                this.componentDidMount();\n            });\n\n    }\n\n    subCount = (id: String) => {\n        axios.post('http://localhost:5000/counters/subtract/' + id)\n            .then(res => {\n                console.log(res.data);\n\n                console.log(\"test\");\n                // update our state\n                this.componentDidMount();\n            });\n    }\n\n    // for rendering our list of counters\n    counterList = () => {\n        return this.state.counters.map(counter_ => {\n            return (\n                <GSTListRow\n                    counter={counter_}\n                    cb_add={this.addCount}\n                    cb_sub={this.subCount}\n                    cb_del={this.deleteCounter}\n                />\n            );\n        });\n    }\n\n    render() {\n\n        return (\n            <div>\n                <h3>Current Offenders</h3>\n                <Table>\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>Count</th>\n                            <th>Actions</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.counterList()}\n                    </tbody>\n                </Table>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}