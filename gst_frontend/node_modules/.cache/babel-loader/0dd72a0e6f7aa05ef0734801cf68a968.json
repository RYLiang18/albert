{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Steelix\\\\Documents\\\\programming_projects\\\\the_gst\\\\gst_frontend\\\\src\\\\components\\\\gst_list.tsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport '../styles/gst_list.css';\nimport { Table, Button } from 'reactstrap';\n/* ************************* GSTListRow FC ************************* */\n\nexport const GSTListRow = ({\n  counter,\n  cb_add,\n  cb_sub,\n  cb_del\n}) => /*#__PURE__*/React.createElement(\"tr\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }\n}, /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 13\n  }\n}, counter.username), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 17\n  }\n}, counter.count, ' ', /*#__PURE__*/React.createElement(Button, {\n  color: \"primary\",\n  onClick: () => cb_add(counter._id),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 21\n  }\n}, \"+\"), ' ', /*#__PURE__*/React.createElement(Button, {\n  color: \"danger\",\n  onClick: () => cb_sub(counter._id),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 21\n  }\n}, \"-\"))), /*#__PURE__*/React.createElement(\"td\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 13\n  }\n}, /*#__PURE__*/React.createElement(\"span\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 17\n  }\n}, /*#__PURE__*/React.createElement(Button, {\n  color: \"link\",\n  onClick: () => cb_del(counter._id),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 21\n  }\n}, \"delete\"), \"|\", /*#__PURE__*/React.createElement(Button, {\n  color: \"link\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 21\n  }\n}, /*#__PURE__*/React.createElement(Link, {\n  to: \"/edit/\" + counter._id,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 25\n  }\n}, \"edit\")))));\n/* **************************** GSTList **************************** */\n\nexport default class GSTList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      counters: []\n    };\n\n    this.componentDidMount = () => {\n      console.log(\"before show list\");\n      axios.get('http://192.168.0.17:5000/counters/').then(response => {\n        this.setState({\n          counters: response.data\n        });\n        console.log(\"show list\");\n      }).catch(err => console.log(err));\n    };\n\n    this.deleteCounter = id => {\n      axios.delete('http://localhost:5000/counters/' + id).then(res => {\n        console.log(res.data);\n        this.setState({\n          counters: this.state.counters.filter(el => el._id !== id)\n        });\n      });\n    };\n\n    this.addCount = id => {\n      axios.post('http://localhost:5000/counters/add/' + id).then(res => {\n        console.log(res.data); // update our state\n\n        this.componentDidMount();\n      });\n    };\n\n    this.subCount = id => {\n      axios.post('http://localhost:5000/counters/subtract/' + id).then(res => {\n        console.log(res.data);\n        console.log(\"test\"); // update our state\n\n        this.componentDidMount();\n      });\n    };\n\n    this.counterList = () => {\n      return this.state.counters.map(counter_ => {\n        return /*#__PURE__*/React.createElement(GSTListRow, {\n          counter: counter_,\n          cb_add: this.addCount,\n          cb_sub: this.subCount,\n          cb_del: this.deleteCounter,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }\n        });\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, \"Current Offenders\"), /*#__PURE__*/React.createElement(Table, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 29\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 29\n      }\n    }, \"Count\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 29\n      }\n    }, \"ActionsBBB\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, this.counterList())));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Steelix/Documents/programming_projects/the_gst/gst_frontend/src/components/gst_list.tsx"],"names":["React","Component","axios","Link","Table","Button","GSTListRow","counter","cb_add","cb_sub","cb_del","username","count","_id","GSTList","state","counters","componentDidMount","console","log","get","then","response","setState","data","catch","err","deleteCounter","id","delete","res","filter","el","addCount","post","subCount","counterList","map","counter_","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport '../styles/gst_list.css'\r\n\r\nimport {\r\n    Table,\r\n    Button\r\n} from 'reactstrap';\r\n\r\n/* ************************* GSTListRow FC ************************* */\r\ninterface GST_LR_Props {\r\n    counter: any,\r\n    cb_add: Function,\r\n    cb_sub: Function,\r\n    cb_del: Function\r\n}\r\n\r\nexport const GSTListRow: React.FC<GST_LR_Props> = ({\r\n    counter,\r\n    cb_add,\r\n    cb_sub,\r\n    cb_del\r\n}) => (\r\n        <tr>\r\n            <td>{counter.username}</td>\r\n            <td>\r\n                <span>\r\n                    {counter.count}\r\n                    {' '}\r\n                    <Button\r\n                        color=\"primary\"\r\n                        onClick={() => cb_add(counter._id)}\r\n                    >\r\n                        +\r\n                    </Button>\r\n                    {' '}\r\n                    <Button\r\n                        color=\"danger\"\r\n                        onClick={() => cb_sub(counter._id)}\r\n                    >\r\n                        -\r\n                </Button>\r\n                </span>\r\n            </td>\r\n            <td>\r\n                <span>\r\n                    <Button\r\n                        color=\"link\"\r\n                        onClick={() => cb_del(counter._id)}\r\n                    >\r\n                        delete\r\n                    </Button>|\r\n                    <Button color=\"link\">\r\n                        <Link to={\"/edit/\" + counter._id}>\r\n                            edit\r\n                        </Link>\r\n                    </Button>\r\n                </span>\r\n            </td>\r\n        </tr>\r\n    );\r\n\r\n/* **************************** GSTList **************************** */\r\ninterface Props { /*none*/ }\r\ninterface State {\r\n    counters: Array<any>\r\n}\r\n\r\nexport default class GSTList extends Component<Props, State> {\r\n    state = {\r\n        counters: []\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        console.log(\"before show list\")\r\n        axios.get('http://192.168.0.17:5000/counters/')\r\n            .then(response => {\r\n                this.setState({\r\n                    counters: response.data\r\n                });\r\n                console.log(\"show list\");\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    deleteCounter = (id: String) => {\r\n        axios.delete('http://localhost:5000/counters/' + id)\r\n            .then(res => {\r\n                console.log(res.data);\r\n                this.setState({\r\n                    counters: this.state.counters.filter((el: any) => el._id !== id)\r\n                })\r\n            });\r\n    }\r\n\r\n    addCount = (id: String) => {\r\n        axios.post('http://localhost:5000/counters/add/' + id)\r\n            .then(res => {\r\n                console.log(res.data);\r\n                // update our state\r\n                this.componentDidMount();\r\n            });\r\n\r\n    }\r\n\r\n    subCount = (id: String) => {\r\n        axios.post('http://localhost:5000/counters/subtract/' + id)\r\n            .then(res => {\r\n                console.log(res.data);\r\n\r\n                console.log(\"test\");\r\n                // update our state\r\n                this.componentDidMount();\r\n            });\r\n    }\r\n\r\n    // for rendering our list of counters\r\n    counterList = () => {\r\n        return this.state.counters.map(counter_ => {\r\n            return (\r\n                <GSTListRow\r\n                    counter={counter_}\r\n                    cb_add={this.addCount}\r\n                    cb_sub={this.subCount}\r\n                    cb_del={this.deleteCounter}\r\n                />\r\n            );\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <h3>Current Offenders</h3>\r\n                <Table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>Count</th>\r\n                            <th>ActionsBBB</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.counterList()}\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}